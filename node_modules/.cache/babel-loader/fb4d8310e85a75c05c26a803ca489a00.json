{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Desktop\\\\Coding\\\\Projects in progress\\\\FHS\\\\website\\\\fhs\\\\src\\\\components\\\\logIn.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport React, { useState } from 'react';\nimport { useHistory } from 'react-router';\nimport './styles.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar LogIn = () => {\n  _s();\n\n  var history = useHistory();\n\n  if (localStorage.getItem(\"role\")) {\n    if (localStorage.getItem(\"role\") === \"manager\") {\n      history.push('/manager');\n    } else if (localStorage.getItem(\"role\" === \"teacher\")) {\n      history.push(`/teacher/${JSON.parse(localStorage.getItem(\"teacherInfo\")).passcode}`);\n    }\n  }\n\n  var [passcode, setPasscode] = useState();\n  var [reRender, setReRender] = useState();\n\n  var passcodeChanged = e => {\n    e.preventDefault();\n    setPasscode(e.target.value);\n  };\n\n  var submit = async () => {\n    await axios.post('/login', {\n      passcode: passcode\n    }).then(res => {\n      if (res.data.role === \"manager\") {\n        localStorage.setItem(\"manager\", JSON.stringify({\n          name: res.data.name,\n          picture: res.data.picture\n        }));\n        setReRender(1);\n      } else if (res.data.role === \"teacher\") {\n        localStorage.setItem(\"teacher\", JSON.stringify({\n          name: res.data.name,\n          picture: res.data.picture\n        }));\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"big\",\n    children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 25\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"login-form-header\",\n        children: \"\\u0623\\u062F\\u062E\\u0644 \\u0631\\u0645\\u0632 \\u0627\\u0644\\u0645\\u0631\\u0648\\u0631 \\u0627\\u0644\\u062E\\u0627\\u0635 \\u0628\\u0643\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        onChange: passcodeChanged,\n        className: \"form-control\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn text-light button\",\n        onClick: submit,\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\u062F\\u062E\\u0648\\u0644\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 76\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 9\n  }, this);\n};\n\n_s(LogIn, \"IgVfdTGuci52j4/qL9O8oDR7zZ8=\", false, function () {\n  return [useHistory];\n});\n\n_c = LogIn;\nexport default LogIn;\n\nvar _c;\n\n$RefreshReg$(_c, \"LogIn\");","map":{"version":3,"sources":["C:/Users/HP/Desktop/Coding/Projects in progress/FHS/website/fhs/src/components/logIn.js"],"names":["axios","React","useState","useHistory","LogIn","history","localStorage","getItem","push","JSON","parse","passcode","setPasscode","reRender","setReRender","passcodeChanged","e","preventDefault","target","value","submit","post","then","res","data","role","setItem","stringify","name","picture"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport React, { useState } from 'react';\r\nimport { useHistory } from 'react-router';\r\nimport './styles.css';\r\n \r\nvar LogIn = () => {\r\n    var history = useHistory();\r\n    if(localStorage.getItem(\"role\")){\r\n        if(localStorage.getItem(\"role\") === \"manager\"){\r\n            history.push('/manager')\r\n        }\r\n        else if(localStorage.getItem(\"role\" === \"teacher\")){\r\n            history.push(`/teacher/${JSON.parse(localStorage.getItem(\"teacherInfo\")).passcode}`)\r\n        }\r\n    }\r\n\r\n    var [passcode, setPasscode] = useState();\r\n    var [reRender, setReRender] = useState();\r\n\r\n    var passcodeChanged = (e) => {\r\n        e.preventDefault();\r\n        setPasscode(e.target.value);\r\n    }\r\n\r\n    var submit = async() => {\r\n        await axios.post('/login', {passcode: passcode}).then(res => {\r\n            if(res.data.role === \"manager\"){\r\n                localStorage.setItem(\"manager\", JSON.stringify({name: res.data.name, picture: res.data.picture}))\r\n                setReRender(1)\r\n            }\r\n            else if(res.data.role === \"teacher\"){\r\n                localStorage.setItem(\"teacher\", JSON.stringify({name: res.data.name, picture: res.data.picture}))\r\n            }\r\n        })\r\n    }\r\n    return(\r\n        <div className=\"big\">\r\n            <br /><br /><br />\r\n            <div className=\"login-form\">\r\n                <h1 className=\"login-form-header\">أدخل رمز المرور الخاص بك</h1>\r\n                <br />\r\n                <input type=\"number\" onChange={passcodeChanged} className=\"form-control\" />\r\n                <br />\r\n                <button className=\"btn text-light button\" onClick={submit}><span>دخول</span></button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LogIn;"]},"metadata":{},"sourceType":"module"}