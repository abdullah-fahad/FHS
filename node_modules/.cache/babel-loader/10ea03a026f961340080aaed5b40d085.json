{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/HP/Desktop/Coding/Projects in progress/FHS/server/website/fhs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/HP/Desktop/Coding/Projects in progress/FHS/server/website/fhs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/HP/Desktop/Coding/Projects in progress/FHS/server/website/fhs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import NotAllowed from'./notAllowed';import axios from'axios';import'./styles.css';import{useHistory}from'react-router';import{toast}from'react-toastify';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddPosts=function AddPosts(){var history=useHistory();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),postTitle=_useState2[0],setPostTitle=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),postDiscraption=_useState4[0],setPostDiscraption=_useState4[1];var _useState5=useState({imageURL:\"\",picFile:null}),_useState6=_slicedToArray(_useState5,2),postImage=_useState6[0],setPostImage=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),postContent=_useState8[0],setPostContent=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),postLink=_useState10[0],setPostLink=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),postLinkTitle=_useState12[0],setPostLinkTitle=_useState12[1];var titleChanged=function titleChanged(e){e.preventDefault();setPostTitle(e.target.value);document.getElementById('title').className=\"hide\";document.getElementById('title-section').className=\"section\";};var discraptionChanged=function discraptionChanged(e){e.preventDefault();setPostDiscraption(e.target.value);document.getElementById('discraption').className=\"hide\";document.getElementById('discraption-section').className=\"section\";};var imageChanged=function imageChanged(e){e.preventDefault();var reader=new FileReader();var inFile=e.target.files[0];reader.onloadend=function(){console.log(1+reader.result);setPostImage({imageURL:reader.result});};reader.readAsDataURL(inFile);document.getElementById('image').className=\"hide\";document.getElementById('image-section').className=\"section\";};var contentChanged=function contentChanged(e){e.preventDefault();setPostContent(e.target.value);document.getElementById('content').className=\"hide\";document.getElementById('content-section').className=\"section\";};var linkChanged=function linkChanged(e){e.preventDefault();setPostLink(e.target.value);};var linkTitleChanged=function linkTitleChanged(e){e.preventDefault();setPostLinkTitle(e.target.value);};var cancel=function cancel(){history.push('/manager');};if(localStorage.getItem('userInfo')&&sessionStorage.getItem('loggedIn')){var post=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!postTitle){document.getElementById('title').className=\"text-light\";document.getElementById('title-section').className=\"section-danger\";}if(!postDiscraption){document.getElementById('discraption').className=\"text-light\";document.getElementById('discraption-section').className=\"section-danger\";}if(!postImage.imageURL){document.getElementById('image').className=\"text-light\";document.getElementById('image-section').className=\"section-danger\";}if(postContent){_context.next=8;break;}document.getElementById('content').className=\"text-light\";document.getElementById('content-section').className=\"section-danger\";_context.next=10;break;case 8:_context.next=10;return axios.post('/add-news',{title:postTitle,discraption:postDiscraption,content:postContent,picture:postImage.imageURL,link:postLink,linkTitle:postLinkTitle,author:JSON.parse(localStorage.getItem(\"userInfo\")).name}).then(function(res){history.push('/manager');toast.success('تم إضافة المنشور',{position:\"top-right\",autoClose:4000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});});case 10:case\"end\":return _context.stop();}}},_callee);}));return function post(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"addPost\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h1\",{children:\"\\u0625\\u0636\\u0627\\u0641\\u0629 \\u0645\\u0646\\u0634\\u0648\\u0631 \\u062C\\u062F\\u064A\\u062F\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u0627\\u0645\\u0644\\u0623 \\u0627\\u0644\\u062D\\u0642\\u0648\\u0644 \\u0623\\u062F\\u0646\\u0627\\u0647 \\u0628\\u0645\\u0639\\u0644\\u0648\\u0645\\u0627\\u062A \\u0627\\u0644\\u0645\\u0646\\u0634\\u0648\\u0631 \\u0644\\u064A\\u062A\\u0645 \\u0625\\u0636\\u0627\\u0641\\u062A\\u0647\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"preview\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u0645\\u0639\\u0627\\u064A\\u0646\\u0629\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"post\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"post-img\",src:postImage.imageURL||\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQMAAADCCAMAAAB6zFdcAAAAQlBMVEX///+hoaGenp6ampr39/fHx8fOzs7j4+P8/Pyvr6/d3d3FxcX29va6urqYmJjs7OzU1NSlpaW1tbWtra3n5+e/v78TS0zBAAACkUlEQVR4nO3b63KCMBCGYUwUUVEO6v3fagWVY4LYZMbZnff51xaZ5jON7CZNEgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQb5tvI8qzX4/nH84XG5Upfj2ir2V2E5fZ/XpIX9saMnhkYLIkiyRJjdgMoiEDMmiQgfwM8rSu77ew2wnPoLTmwdZBs0J2BuXrYckcQm4nOoP+WcmWAbcTnUHZPy9eA24nOoN7n0HI54ToDM5k8PjluwyqgNuJzqDoaugPg8gWZ4noDAYLwuIg75fLeeHHsjNIzrZJwWwW+0DNsmEWPjiEZ5AcD8ZUu8VZ8HyQMifvBdIz+PS33i8adu+7Qn4Gn1Tdupl7rlCfQb9seosK7RkcBy1o30iVZ5CPOtDW3WhQnsF13IV3v0p3BqfJRoSpXVepzmA/24+yqeMyzRm4tqOs44lSUwa3yfgOri25av5CPRnklR33VlPnrqSZV09qMsiqSWV082xOz1uPajJ49pTM/f115k6guWa6JGjJ4N1lt8fXN2rv/vysjFaSQdFXBc/KKF04ptFPliclGVR9Bu27XCyeVOkmy5OODAZN9rYyyip/AIPJ8qIig+PoXbf7YdPdncFoSdCQQT4ZceV+MhiFMBy0hgyu0yGvOLI17KwpyGBaHK5jtt0N5GcwLw7XZdB31sRn8O+ziqYro8Vn4CwOV+k6a9Iz+PwRsKC7h+gMfMXhKu/OmuwM/MXhKq8yWnYG/uJw5Uxoy2jRGZTBZ/jboxuSM1guDtdNhKazJjiDbNMe0AxzKUVnkO+jEJxBxNtJzWCTxlNLzSB8KehJ/H+mJGYAjaDjzj9SnHZRuXZiAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAECXP1XDHv7U4SNFAAAAAElFTkSuQmCC\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"post-thumb-title\",children:postTitle||\"العنوان\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"author1\",children:[\"\\u0645\\u0646 \",JSON.parse(localStorage.getItem('userInfo')).name||\"مجهول\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"post-thumb-text\",children:postDiscraption||\"وصف المنشور\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success post-btn\",children:\"\\u0627\\u0642\\u0631\\u0623 \\u0627\\u0644\\u062E\\u0628\\u0631\"})]})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"section\",{id:\"title-section\",className:\"section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"*\\u0639\\u0646\\u0648\\u0627\\u0646 \\u0627\\u0644\\u0645\\u0646\\u0634\\u0648\\u0631\"}),/*#__PURE__*/_jsx(\"input\",{onChange:titleChanged,className:\"form-control\",type:\"text\",placeholder:\"\\u0623\\u062F\\u062E\\u0644 \\u0639\\u0646\\u0648\\u0627\\u0646 \\u0627\\u0644\\u0645\\u0646\\u0634\\u0648\\u0631 \\u0647\\u0646\\u0627\"}),/*#__PURE__*/_jsx(\"p\",{id:\"title\",className:\"text-light hide\",children:\"\\u0639\\u0644\\u064A\\u0643 \\u0625\\u0636\\u0627\\u0641\\u0629 \\u0639\\u0646\\u0648\\u0627\\u0646  \\u0627\\u0644\\u0645\\u0646\\u0634\\u0648\\u0631\"})]}),/*#__PURE__*/_jsxs(\"section\",{id:\"discraption-section\",className:\"section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"*\\u0648\\u0635\\u0641 \\u0627\\u0644\\u0645\\u0646\\u0634\\u0648\\u0631\"}),/*#__PURE__*/_jsx(\"input\",{onChange:discraptionChanged,className:\"form-control\",type:\"text\",placeholder:\"\\u0623\\u062F\\u062E\\u0644 \\u0648\\u0635\\u0641 \\u0627\\u0644\\u0645\\u0646\\u0634\\u0648\\u0631 \\u0647\\u0646\\u0627\"}),/*#__PURE__*/_jsx(\"p\",{id:\"discraption\",className:\"text-light hide\",children:\"\\u0639\\u0644\\u064A\\u0643 \\u0625\\u0636\\u0627\\u0641\\u0629 \\u0648\\u0635\\u0641  \\u0627\\u0644\\u0645\\u0646\\u0634\\u0648\\u0631\"})]}),/*#__PURE__*/_jsxs(\"section\",{id:\"image-section\",className:\"section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"*\\u0635\\u0648\\u0631\\u0629 \\u0627\\u0644\\u0645\\u0646\\u0634\\u0648\\u0631\"}),/*#__PURE__*/_jsx(\"input\",{onChange:imageChanged,className:\"form-control\",type:\"file\"}),/*#__PURE__*/_jsx(\"p\",{id:\"image\",className:\"text-light hide\",children:\"\\u0639\\u0644\\u064A\\u0643 \\u0625\\u0636\\u0627\\u0641\\u0629 \\u0635\\u0648\\u0631\\u0629  \\u0645\\u0646\\u0634\\u0648\\u0631 \\u0635\\u062D\\u064A\\u062D\\u0629\"})]}),/*#__PURE__*/_jsxs(\"section\",{id:\"content-section\",className:\"section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"*\\u0645\\u062D\\u062A\\u0648\\u0649 \\u0627\\u0644\\u0645\\u0646\\u0634\\u0648\\u0631\"}),/*#__PURE__*/_jsx(\"textarea\",{onChange:contentChanged,className:\"form-control\",type:\"text\",placeholder:\"\\u0623\\u062F\\u062E\\u0644 \\u0645\\u062D\\u062A\\u0648\\u0649 \\u0627\\u0644\\u0645\\u0646\\u0634\\u0648\\u0631 \\u0647\\u0646\\u0627\"}),/*#__PURE__*/_jsx(\"p\",{id:\"content\",className:\"text-light hide\",children:\"\\u0639\\u0644\\u064A\\u0643 \\u0625\\u0636\\u0627\\u0641\\u0629 \\u0645\\u062D\\u062A\\u0648\\u0649  \\u0627\\u0644\\u0645\\u0646\\u0634\\u0648\\u0631\"})]}),/*#__PURE__*/_jsxs(\"section\",{id:\"link-section\",className:\"section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\u0627\\u0644\\u0631\\u0627\\u0628\\u0637\"}),/*#__PURE__*/_jsx(\"input\",{onChange:linkChanged,className:\"form-control\",type:\"text\",placeholder:\"\\u0641\\u064A \\u062D\\u0627\\u0644 \\u062A\\u0648\\u0627\\u062C\\u062F \\u0635\\u0641\\u062D\\u0629 \\u0623\\u0648 \\u0645\\u0644\\u0641 \\u0645\\u062A\\u0639\\u0644\\u0642 \\u0628\\u0647\\u0630\\u0627 \\u0627\\u0644\\u0645\\u0646\\u0634\\u0648\\u0631, \\u0627\\u062F\\u062E\\u0644 \\u0627\\u0644\\u0631\\u0627\\u0628\\u0637 \\u0647\\u0646\\u0627\"})]}),/*#__PURE__*/_jsxs(\"section\",{id:\"linkTitle-section\",className:\"section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\u0639\\u0646\\u0648\\u0627\\u0646 \\u0627\\u0644\\u0631\\u0627\\u0628\\u0637\"}),/*#__PURE__*/_jsx(\"input\",{onChange:linkTitleChanged,className:\"form-control\",type:\"text\",placeholder:\"\\u0623\\u062F\\u062E\\u0644 \\u0639\\u0646\\u0648\\u0627\\u0646 \\u0631\\u0627\\u0628\\u0637 \\u0627\\u0644\\u0645\\u0646\\u0634\\u0648\\u0631 \\u0647\\u0646\\u0627\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:post,className:\"btn btn-success form-button\",children:\"\\u0646\\u0634\\u0631\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:cancel,className:\"btn btn-danger form-button\",children:\"\\u0639\\u0648\\u062F\\u0629\"})]})]});}else{return/*#__PURE__*/_jsx(NotAllowed,{});}};export default AddPosts;","map":{"version":3,"sources":["C:/Users/HP/Desktop/Coding/Projects in progress/FHS/server/website/fhs/src/components/addPost.js"],"names":["React","useState","NotAllowed","axios","useHistory","toast","AddPosts","history","postTitle","setPostTitle","postDiscraption","setPostDiscraption","imageURL","picFile","postImage","setPostImage","postContent","setPostContent","postLink","setPostLink","postLinkTitle","setPostLinkTitle","titleChanged","e","preventDefault","target","value","document","getElementById","className","discraptionChanged","imageChanged","reader","FileReader","inFile","files","onloadend","console","log","result","readAsDataURL","contentChanged","linkChanged","linkTitleChanged","cancel","push","localStorage","getItem","sessionStorage","post","title","discraption","content","picture","link","linkTitle","author","JSON","parse","name","then","res","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport NotAllowed from './notAllowed';\r\nimport axios from 'axios';\r\nimport './styles.css';\r\nimport { useHistory } from 'react-router';\r\nimport {toast} from 'react-toastify';\r\n\r\nvar AddPosts = () => {\r\n    var history = useHistory();\r\n    var [postTitle, setPostTitle] = useState(\"\");\r\n    var [postDiscraption, setPostDiscraption] = useState(\"\");\r\n    var [postImage, setPostImage] = useState({\r\n        imageURL: \"\",\r\n        picFile: null\r\n    });\r\n    var [postContent, setPostContent] = useState(\"\");\r\n    var [postLink, setPostLink] = useState(\"\");\r\n    var [postLinkTitle, setPostLinkTitle] = useState(\"\");\r\n\r\n    var titleChanged = (e) => {\r\n        e.preventDefault();\r\n        setPostTitle(e.target.value);\r\n        document.getElementById('title').className = \"hide\"\r\n        document.getElementById('title-section').className = \"section\"\r\n    }\r\n    var discraptionChanged = (e) => {\r\n        e.preventDefault();\r\n        setPostDiscraption(e.target.value);\r\n        document.getElementById('discraption').className = \"hide\"\r\n        document.getElementById('discraption-section').className = \"section\"\r\n    }\r\n    var imageChanged = (e) => {\r\n        e.preventDefault();\r\n        let reader = new FileReader();\r\n        let inFile = e.target.files[0];\r\n        reader.onloadend = () => {\r\n            console.log(1 + reader.result)\r\n           setPostImage({\r\n              imageURL: reader.result\r\n           })\r\n    }\r\n    reader.readAsDataURL(inFile);\r\n    document.getElementById('image').className = \"hide\"\r\n    document.getElementById('image-section').className = \"section\"\r\n}\r\n    var contentChanged = (e) => {\r\n        e.preventDefault();\r\n        setPostContent(e.target.value);\r\n        document.getElementById('content').className = \"hide\"\r\n        document.getElementById('content-section').className = \"section\"\r\n\r\n    }\r\n    var linkChanged = (e) => {\r\n        e.preventDefault();\r\n        setPostLink(e.target.value);\r\n    }\r\n    var linkTitleChanged = (e) => {\r\n        e.preventDefault();\r\n        setPostLinkTitle(e.target.value);\r\n    }\r\n    var cancel = () => {\r\n        history.push('/manager');\r\n    }\r\n    if(localStorage.getItem('userInfo') && sessionStorage.getItem('loggedIn')){\r\n        var post = async() =>{\r\n            if(!postTitle){\r\n                document.getElementById('title').className = \"text-light\"\r\n                document.getElementById('title-section').className = \"section-danger\"\r\n            }if(!postDiscraption){\r\n                document.getElementById('discraption').className = \"text-light\"\r\n                document.getElementById('discraption-section').className = \"section-danger\"\r\n            }if(!postImage.imageURL){\r\n                document.getElementById('image').className = \"text-light\"\r\n                document.getElementById('image-section').className = \"section-danger\"\r\n            }if(!postContent){\r\n                document.getElementById('content').className = \"text-light\"\r\n                document.getElementById('content-section').className = \"section-danger\"\r\n            }else{\r\n                await axios.post('/add-news', {title: postTitle, discraption: postDiscraption, content: postContent, picture: postImage.imageURL, link: postLink, linkTitle: postLinkTitle, author: JSON.parse(localStorage.getItem(\"userInfo\")).name})\r\n                .then(res => {\r\n                    history.push('/manager')\r\n                    toast.success('تم إضافة المنشور', {\r\n                        position: \"top-right\",\r\n                        autoClose: 4000,\r\n                        hideProgressBar: false,\r\n                        closeOnClick: true,\r\n                        pauseOnHover: true,\r\n                        draggable: true,\r\n                        progress: undefined,\r\n                        });\r\n                })\r\n            }\r\n        }\r\n        return(\r\n            <div className=\"addPost\">\r\n                <br />\r\n                <br />\r\n                <h1>\r\n                    إضافة منشور جديد\r\n                </h1>\r\n                <p>املأ الحقول أدناه بمعلومات المنشور ليتم إضافته</p>\r\n                <div className=\"preview\">\r\n                    <label>معاينة</label><br />\r\n                    <div className=\"post\">\r\n                    <img className=\"post-img\" src={postImage.imageURL || \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQMAAADCCAMAAAB6zFdcAAAAQlBMVEX///+hoaGenp6ampr39/fHx8fOzs7j4+P8/Pyvr6/d3d3FxcX29va6urqYmJjs7OzU1NSlpaW1tbWtra3n5+e/v78TS0zBAAACkUlEQVR4nO3b63KCMBCGYUwUUVEO6v3fagWVY4LYZMbZnff51xaZ5jON7CZNEgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQb5tvI8qzX4/nH84XG5Upfj2ir2V2E5fZ/XpIX9saMnhkYLIkiyRJjdgMoiEDMmiQgfwM8rSu77ew2wnPoLTmwdZBs0J2BuXrYckcQm4nOoP+WcmWAbcTnUHZPy9eA24nOoN7n0HI54ToDM5k8PjluwyqgNuJzqDoaugPg8gWZ4noDAYLwuIg75fLeeHHsjNIzrZJwWwW+0DNsmEWPjiEZ5AcD8ZUu8VZ8HyQMifvBdIz+PS33i8adu+7Qn4Gn1Tdupl7rlCfQb9seosK7RkcBy1o30iVZ5CPOtDW3WhQnsF13IV3v0p3BqfJRoSpXVepzmA/24+yqeMyzRm4tqOs44lSUwa3yfgOri25av5CPRnklR33VlPnrqSZV09qMsiqSWV082xOz1uPajJ49pTM/f115k6guWa6JGjJ4N1lt8fXN2rv/vysjFaSQdFXBc/KKF04ptFPliclGVR9Bu27XCyeVOkmy5OODAZN9rYyyip/AIPJ8qIig+PoXbf7YdPdncFoSdCQQT4ZceV+MhiFMBy0hgyu0yGvOLI17KwpyGBaHK5jtt0N5GcwLw7XZdB31sRn8O+ziqYro8Vn4CwOV+k6a9Iz+PwRsKC7h+gMfMXhKu/OmuwM/MXhKq8yWnYG/uJw5Uxoy2jRGZTBZ/jboxuSM1guDtdNhKazJjiDbNMe0AxzKUVnkO+jEJxBxNtJzWCTxlNLzSB8KehJ/H+mJGYAjaDjzj9SnHZRuXZiAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAECXP1XDHv7U4SNFAAAAAElFTkSuQmCC\"} /> \r\n                    <h3 className=\"post-thumb-title\">{postTitle || \"العنوان\"}</h3>\r\n                    <span className=\"author1\">من {JSON.parse(localStorage.getItem('userInfo')).name || \"مجهول\"}</span>\r\n                    <p className=\"post-thumb-text\">{postDiscraption || \"وصف المنشور\"}</p>\r\n                    <button className=\"btn btn-success post-btn\">اقرأ الخبر</button>\r\n                    </div>\r\n                </div>\r\n                <hr />\r\n                <form>\r\n                    <section id=\"title-section\" className=\"section\">\r\n                        <h4>*عنوان المنشور</h4>\r\n                        <input onChange={titleChanged} className=\"form-control\" type=\"text\" placeholder=\"أدخل عنوان المنشور هنا\" />\r\n                        <p id=\"title\" className=\"text-light hide\">عليك إضافة عنوان  المنشور</p>\r\n                    </section>\r\n\r\n                    <section id=\"discraption-section\" className=\"section\">\r\n                        <h4>*وصف المنشور</h4>\r\n                        <input onChange={discraptionChanged} className=\"form-control\" type=\"text\" placeholder=\"أدخل وصف المنشور هنا\" />\r\n                        <p id=\"discraption\" className=\"text-light hide\">عليك إضافة وصف  المنشور</p>\r\n                    </section>\r\n\r\n                    <section id=\"image-section\" className=\"section\">\r\n                        <h4>*صورة المنشور</h4>\r\n                        <input onChange={imageChanged} className=\"form-control\" type=\"file\" />\r\n                        <p id=\"image\" className=\"text-light hide\">عليك إضافة صورة  منشور صحيحة</p>\r\n                    </section>\r\n\r\n                    <section id=\"content-section\" className=\"section\">\r\n                        <h4>*محتوى المنشور</h4>\r\n                        <textarea onChange={contentChanged} className=\"form-control\" type=\"text\" placeholder=\"أدخل محتوى المنشور هنا\" />\r\n                        <p id=\"content\" className=\"text-light hide\">عليك إضافة محتوى  المنشور</p>\r\n                    </section>\r\n\r\n                    <section id=\"link-section\" className=\"section\">\r\n                        <h4>الرابط</h4>\r\n                        <input onChange={linkChanged} className=\"form-control\" type=\"text\" placeholder=\"في حال تواجد صفحة أو ملف متعلق بهذا المنشور, ادخل الرابط هنا\" />\r\n                    </section>\r\n\r\n                    <section id=\"linkTitle-section\" className=\"section\">\r\n                        <h4>عنوان الرابط</h4>\r\n                        <input onChange={linkTitleChanged} className=\"form-control\" type=\"text\" placeholder=\"أدخل عنوان رابط المنشور هنا\" />\r\n                    </section>\r\n\r\n                    <button type=\"button\" onClick={post} className=\"btn btn-success form-button\">نشر</button>\r\n                    <button type=\"button\" onClick={cancel} className=\"btn btn-danger form-button\">عودة</button>\r\n                </form>\r\n            </div>  \r\n        );\r\n    }\r\n    else{\r\n        return <NotAllowed />\r\n    }\r\n}\r\n\r\nexport default AddPosts;"]},"metadata":{},"sourceType":"module"}