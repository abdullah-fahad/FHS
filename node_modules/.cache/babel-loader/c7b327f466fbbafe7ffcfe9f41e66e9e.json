{"ast":null,"code":"import _slicedToArray from\"C:/Users/HP/Desktop/Coding/Projects in progress/FHS/server/website/fhs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _regeneratorRuntime from\"C:/Users/HP/Desktop/Coding/Projects in progress/FHS/server/website/fhs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/HP/Desktop/Coding/Projects in progress/FHS/server/website/fhs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React,{useState}from'react';import'./styles.css';import axios from'axios';import{toast}from'react-toastify';import{useHistory}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var getTeachers=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var teachers;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"/get-teachers\").then(function(response){teachers=response.data;console.log(response.data);}).catch(function(err){return console.log(err);});case 2:return _context.abrupt(\"return\",teachers);case 3:case\"end\":return _context.stop();}}},_callee);}));return function getTeachers(){return _ref.apply(this,arguments);};}();var ShowTeachers=function ShowTeachers(){var history=useHistory();var _useState=useState(),_useState2=_slicedToArray(_useState,2),teachers=_useState2[0],setTeachers=_useState2[1];var prettyTeachers=[];if(!teachers){getTeachers().then(function(res){setTeachers(res);console.log(teachers);});}var remove=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();console.log(e.target.name);if(!teachers[e.target.name]._id){_context2.next=7;break;}_context2.next=5;return axios.post('/remove-teacher',{_id:teachers[e.target.name]._id}).then(function(res){history.push('/manager');toast.success('تم إزالة المستخدم',{position:\"top-right\",autoClose:4000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});});case 5:_context2.next=8;break;case 7:toast.danger('حدث خطأ ما, الرجاء إعادة المحاولة لاحقًا',{position:\"top-right\",autoClose:4000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});case 8:case\"end\":return _context2.stop();}}},_callee2);}));return function remove(_x){return _ref2.apply(this,arguments);};}();if(teachers&&teachers.length===0||!teachers){return/*#__PURE__*/_jsx(\"h1\",{className:\"not-found\",children:\"\\u0644\\u0627\\u064A\\u0648\\u062C\\u062F \\u0623\\u064A \\u0645\\u0639\\u0644\\u0645\\u064A\\u0646 \\u062D\\u062A\\u0649 \\u0627\\u0644\\u0622\\u0646\"});}else if(teachers){console.log(teachers);for(var x=teachers.length;x>0;x--){console.log(x-1);prettyTeachers.push(/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"teacher container\",children:[/*#__PURE__*/_jsx(\"img\",{src:teachers[x-1].picture,className:\"teacher-image\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-6\",children:teachers[x-1].name}),/*#__PURE__*/_jsx(\"div\",{className:\"col-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"btn-group\",children:[/*#__PURE__*/_jsx(\"button\",{name:x-1,className:\"btn btn-primary\",onClick:function onClick(e){return history.push(\"/manager/edit-teacher/\".concat(teachers[e.target.name]._id));},children:/*#__PURE__*/_jsx(\"img\",{src:\"https://img.icons8.com/ios-glyphs/20/ffffff/edit--v1.png\"})}),/*#__PURE__*/_jsx(\"button\",{name:x-1,className:\"btn btn-danger\",onClick:remove,children:/*#__PURE__*/_jsx(\"img\",{src:\"https://img.icons8.com/material-rounded/20/ffffff/filled-trash.png\"})})]})})]}),teachers[x-1].classes[0].grade,/*#__PURE__*/_jsx(\"br\",{}),teachers[x-1].classes[0].section]}),/*#__PURE__*/_jsx(\"br\",{})]}));}return prettyTeachers;}};var ManagerTeachers=function ManagerTeachers(){var history=useHistory();var addTeacher=function addTeacher(){return history.push(\"/manager/add-teacher\");};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u0627\\u0644\\u0645\\u0639\\u0644\\u0645\\u064A\\u0646\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u062D\\u064A\\u062B \\u064A\\u0645\\u0643\\u0646\\u0643 \\u0627\\u0644\\u0627\\u0637\\u0644\\u0627\\u0639 \\u0639\\u0644\\u0649 \\u0627\\u0644\\u0645\\u0639\\u0644\\u0645\\u064A\\u0646, \\u0627\\u0636\\u0627\\u0641\\u0629 \\u0645\\u0639\\u0644\\u0645\\u064A\\u0646 \\u0627\\u0648 \\u062A\\u0639\\u062F\\u064A\\u0644 \\u0645\\u0639\\u0644\\u0648\\u0645\\u0627\\u062A\\u0647\\u0645\"}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-success\",type:\"button\",onClick:addTeacher,children:[\"\\u0625\\u0636\\u0627\\u0641\\u0629 \\u0645\\u0639\\u0644\\u0645 \",/*#__PURE__*/_jsx(\"img\",{src:\"https://img.icons8.com/ios/20/ffffff/plus--v2.png\"})]}),/*#__PURE__*/_jsx(ShowTeachers,{})]});};export default ManagerTeachers;","map":{"version":3,"sources":["C:/Users/HP/Desktop/Coding/Projects in progress/FHS/server/website/fhs/src/components/managerTeachers.js"],"names":["React","useState","axios","toast","useHistory","getTeachers","get","then","response","teachers","data","console","log","catch","err","ShowTeachers","history","setTeachers","prettyTeachers","res","remove","e","preventDefault","target","name","_id","post","push","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","danger","length","x","picture","classes","grade","section","ManagerTeachers","addTeacher"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\r\nimport './styles.css';\r\nimport axios from 'axios';\r\nimport {toast} from 'react-toastify';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nvar getTeachers = async() => {\r\n    var teachers;\r\n    await axios.get(\"/get-teachers\").then(response => {teachers = response.data; console.log(response.data)}).catch(err => console.log(err))\r\n    return teachers;\r\n\r\n}\r\n\r\nvar ShowTeachers = () => {\r\n    var history = useHistory();\r\n    var [teachers, setTeachers] = useState();\r\n    var prettyTeachers = []\r\n    if(!teachers){getTeachers().then(res => {setTeachers(res); console.log(teachers)})}\r\n\r\n    var remove = async e => {\r\n        e.preventDefault();\r\n        console.log(e.target.name)\r\n        if(teachers[e.target.name]._id){\r\n            await axios.post('/remove-teacher', {_id: teachers[e.target.name]._id}).then(res => {\r\n                history.push('/manager')\r\n                toast.success('تم إزالة المستخدم', {\r\n                    position: \"top-right\",\r\n                    autoClose: 4000,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true,\r\n                    progress: undefined,\r\n                    });\r\n            })\r\n    }\r\n    else{\r\n        toast.danger('حدث خطأ ما, الرجاء إعادة المحاولة لاحقًا', {\r\n            position: \"top-right\",\r\n            autoClose: 4000,\r\n            hideProgressBar: false,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            draggable: true,\r\n            progress: undefined,\r\n            });\r\n    }\r\n}\r\n\r\n    if(teachers && teachers.length === 0 || !teachers){\r\n        return(\r\n            <h1 className='not-found'>لايوجد أي معلمين حتى الآن</h1>\r\n        )\r\n    }\r\n    else if(teachers){\r\n        console.log(teachers)\r\n        for(var x = teachers.length; x > 0; x--){\r\n            console.log(x-1)\r\n            prettyTeachers.push(\r\n                <>\r\n                <div className=\"teacher container\">\r\n                    <img src={teachers[x-1].picture} className='teacher-image' />\r\n                    <br />\r\n                    <div className='row'>\r\n                        <div className=\"col-6\">\r\n                            {teachers[x-1].name}\r\n                        </div>\r\n                        <div className=\"col-6\">\r\n                            <div className=\"btn-group\">\r\n                                <button name={x-1} className=\"btn btn-primary\" onClick={e => history.push(`/manager/edit-teacher/${teachers[e.target.name]._id}`)} ><img src=\"https://img.icons8.com/ios-glyphs/20/ffffff/edit--v1.png\"/></button>\r\n                                <button name={x-1} className=\"btn btn-danger\" onClick={remove}><img src=\"https://img.icons8.com/material-rounded/20/ffffff/filled-trash.png\"/></button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                        {teachers[x-1].classes[0].grade}\r\n                        <br />\r\n                        {teachers[x-1].classes[0].section}\r\n            </div>\r\n            <br />\r\n                </>\r\n            )\r\n        }\r\n        return prettyTeachers;\r\n    }\r\n\r\n}\r\n\r\nvar ManagerTeachers = () => {\r\n    var history = useHistory()\r\n\r\n    var addTeacher = () => history.push(\"/manager/add-teacher\")\r\n\r\n    return(\r\n        <div>\r\n            <h1>المعلمين</h1>\r\n            <p>حيث يمكنك الاطلاع على المعلمين, اضافة معلمين او تعديل معلوماتهم</p>\r\n            <button className=\"btn btn-success\" type=\"button\" onClick={addTeacher}>إضافة معلم <img src=\"https://img.icons8.com/ios/20/ffffff/plus--v2.png\"/></button>\r\n            <ShowTeachers />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ManagerTeachers;"]},"metadata":{},"sourceType":"module"}